void() WeaponFollowThink = 
{ 
  self.origin = self.owner.origin + '0 0 24';  
  self.angles = self.owner.v_angle; 
  self.angles_x = -self.angles_x; // silly Quake bug with angles and v_angle 
  self.velocity = self.owner.velocity; 

  // update again next frame 
  self.nextthink = time; 
}; 

void() attachment = 
{ 

local vector org; 
local entity weapon; 
org = self.origin + '0 0 24'; 
weapon = spawn(); 
weapon.owner = self; 
weapon.movetype = MOVETYPE_NOCLIP; 
weapon.solid = SOLID_NOT; 

modelindex_player = weapon.modelindex;  
setsize(weapon, '0 0 0', '0 0 0'); 
setorigin(weapon, org); 
weapon.velocity = self.velocity; 
weapon.angles = self.v_angle; 
weapon.angles_x = -weapon.angles_x; // silly Quake bug with angles and v_angle 


weapon.nextthink = time; 
weapon.think = WeaponFollowThink; 
};